import{createForOfIteratorHelper as n}from"../_virtual/_rollupPluginBabelHelpers.js";import{doesObjectLanguageMatch as a}from"./LanguageHelpers.js";import{normalizeFieldToArray as o,normalizeAatId as e,normalizeFieldWithParts as r}from"./BasicHelpers.js";import t from"../data/aat.json.js";import{UNKNOWN as i,IDENTIFIED_BY as g,NAME as u,AND as l,OR as v,REFERRED_TO_BY as s,ATTRIBUTED_BY as p,ASSIGNED_BY as c,PART as d,ASSIGNED_PROPERTY as f,ASSIGNED as h,CLASSIFIED_AS as O,CLASSIFIED_BY as m}from"../data/constants.json.js";function y(n,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=o.language,r=void 0===e?void 0:e,t=o.languageOptions,i=void 0===t?{}:t,g=o.operator;return H(n,a,{classificationField:O,language:r,languageOptions:i,operator:g})}function E(n,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=o.language,r=void 0===e?void 0:e,t=o.languageOptions,i=void 0===t?{}:t,g=o.operator;return H(n,a,{classificationField:m,language:r,languageOptions:i,operator:g})}function j(n,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=o.language,r=void 0===e?void 0:e,t=o.languageOptions,i=void 0===t?{}:t,g=o.operator;return x(n,a,O,{language:r,languageOptions:i,operator:g})}function R(n,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=o.language,r=void 0===e?void 0:e,t=o.languageOptions,i=void 0===t?{}:t,g=o.operator;return x(n,a,m,{language:r,languageOptions:i,operator:g})}function F(n,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=o.language,r=void 0===e?void 0:e,t=o.languageOptions,i=void 0===t?{}:t,g=o.operator;return k(n,a,O,{language:r,languageOptions:i,operator:g})}function C(n,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=o.language,r=void 0===e?void 0:e,t=o.languageOptions,i=void 0===t?{}:t;return k(n,a,m,{language:r,languageOptions:i})}function b(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=a.requestedClassifications,e=void 0===o?t.PREFERRED_TERM:o,r=a.language,i=a.languageOptions,g=void 0===i?{}:i;return A(n,{requestedClassifications:e,language:r,languageOptions:g})[0]}function A(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=a.requestedClassifications,r=void 0===e?t.PREFERRED_TERM:e,l=a.language,v=a.languageOptions,s=void 0===v?{}:v;if(null==n)return i;var p=o(n,g),c=p.filter((function(n){return n.type==u})),d=q(c,r,{language:l,languageOptions:s});if(d.length>0)return d;var f=i;return n&&n.id&&(f+=" ("+n.id+")"),[f]}function H(r,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},g=i.classificationField,u=void 0===g?O:g,s=i.language,p=void 0===s?void 0:s,c=i.languageOptions,d=void 0===c?{}:c,f=i.operator,h=void 0===f?l:f,m=[],y=T(r),E=T(t);if(0==y.length||0==E.length)return m;var j,R=n(y);try{var F=function(){var n=j.value;C=o(n,u);var r=a(n,p,d);if(!C.length)return"continue";var t=C.map((function(n){return"string"==typeof n?n:n.id})),i=function(n){return r&&t.includes(n)||t.includes(e(n))};if(h.toUpperCase()==l)E.every(i)&&m.push(n);else{if(h.toUpperCase()!=v)throw"unknown operator specified: ".concat(h,", please use and/or");E.some(i)&&m.push(n)}};for(R.s();!(j=R.n()).done;){var C;F()}}catch(n){R.e(n)}finally{R.f()}return m}function _(n,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=o.language,r=o.languageOptions,t=o.operator,i=y(n,a,{language:e,languageOptions:r,operator:t});if(i.length){var g=P(i[0]);return g}}function q(n,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=o.language,r=o.languageOptions,t=o.operator,i=y(n,a,{language:e,languageOptions:r,operator:t});if(i.length){var g=[];return i.forEach((function(n){var a=P(n);a&&g.push(a)})),g}return[]}function P(n){if(null!=n)return void 0!==n.value?n.value:n.content?n.content:void 0}function w(n,a){if(n){var o=n[s];if(o)return _(o,a)}}function B(n,a){var e=o(n,p);return 0==e.length?[]:U(e,a)}function D(n,a){var e=o(n,c);return 0==e.length?[]:U(e,a)}function M(n,a){var e=n[a];if(!e)return[];var r=o(e,d);return 0==r.length?[e]:r}function T(n){var a=n;return null==n?[]:(0==Array.isArray(n)&&(a=[n]),a)}function U(n,a){var o=[];return n.forEach((function(n){n[f]==a&&(Array.isArray(n[h])?o=o.concat(n[h]):o.push(n[h]))})),o}function k(n,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=e.language,t=void 0===r?void 0:r,i=e.languageOptions,g=void 0===i?{}:i,u=e.operator,l=I(n,a,o,{language:t,languageOptions:g,operator:u}),v=l.objects;return v}function x(n,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=e.language,t=void 0===r?void 0:r,i=e.languageOptions,g=void 0===i?{}:i,u=e.operator,l=I(n,a,o,{language:t,languageOptions:g,operator:u}),v=l.classifications;return v}function I(a,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O,t=arguments.length>3?arguments[3]:void 0,i=t.language,g=void 0===i?void 0:i,u=t.languageOptions,l=void 0===u?{}:u,v=t.operator,s={classifications:[],objects:[]},p=T(a);if(0==p.length)return s;var c,d=n(p);try{for(d.s();!(c=d.n()).done;){var f=c.value,h=o(f,r);if(h.length){var m=H(h,e,{classificationField:r,language:g,languageOptions:l,operator:v});s.classifications=s.classifications.concat(m),m.length>0&&s.objects.push(f)}}}catch(n){d.e(n)}finally{d.f()}return s}function L(n,a,e){var t=r(n,a),i=[];return t.forEach((function(n){var a=o(n,e);i=i.concat(a)})),i}function z(n,a,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},t=r.language,i=r.languageOptions,g=r.operator;return q(o(n,a),e,{language:t,languageOptions:i,operator:g})}export{x as _getClassificationsWithNestedClass,k as _getObjectWithNestedClass,I as _getObjectsAndClassificationsWithNestedClass,D as getAssignedBy,B as getAttributedBy,H as getClassified,y as getClassifiedAs,j as getClassifiedAsWithClassification,E as getClassifiedBy,R as getClassifiedByWithClassification,L as getFieldPartSubfield,z as getFieldValuesByClassifications,M as getObjectParts,F as getObjectsClassifiedAsWithClassification,C as getObjectsClassifiedByWithClassification,b as getPrimaryName,A as getPrimaryNames,w as getReferredToByClassification,_ as getValueByClassification,P as getValueOrContent,q as getValuesByClassification};
