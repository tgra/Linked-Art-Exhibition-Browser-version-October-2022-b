"use strict";function t(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||e(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function n(t,a){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=e(t))||a&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,g=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return u=t.done,t},e:function(t){g=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(g)throw i}}}}Object.defineProperty(exports,"__esModule",{value:!0});var o={LANGUAGES:{en:"http://vocab.getty.edu/aat/300388277",fr:"http://vocab.getty.edu/aat/300388306",de:"http://vocab.getty.edu/aat/300388344",es:"http://vocab.getty.edu/aat/300389311",zh:"http://vocab.getty.edu/aat/300388113",hi:"http://vocab.getty.edu/aat/300388412",af:"http://vocab.getty.edu/aat/300387782",sq:"http://vocab.getty.edu/aat/300387803",ar:"http://vocab.getty.edu/aat/300387843",bg:"http://vocab.getty.edu/aat/300388034",bs:"http://vocab.getty.edu/aat/300388023",ca:"http://vocab.getty.edu/aat/300388072",pt:"http://vocab.getty.edu/aat/300389115",bn:"http://vocab.getty.edu/aat/300387971",ru:"http://vocab.getty.edu/aat/300389168",nl:"http://vocab.getty.edu/aat/300388256",fi:"http://vocab.getty.edu/aat/300388299",is:"http://vocab.getty.edu/aat/300388449",ga:"http://vocab.getty.edu/aat/300388467",it:"http://vocab.getty.edu/aat/300388474",fa:"http://vocab.getty.edu/aat/300388296",gu:"http://vocab.getty.edu/aat/300388371",ko:"http://vocab.getty.edu/aat/300388633",la:"http://vocab.getty.edu/aat/300388693",lt:"http://vocab.getty.edu/aat/300388723",mk:"http://vocab.getty.edu/aat/300388760",ja:"http://vocab.getty.edu/aat/300388486",hr:"http://vocab.getty.edu/aat/300388185",cs:"http://vocab.getty.edu/aat/300388191",da:"http://vocab.getty.edu/aat/300388204",el:"http://vocab.getty.edu/aat/300388361",ka:"http://vocab.getty.edu/aat/300388343",he:"http://vocab.getty.edu/aat/300388401",hu:"http://vocab.getty.edu/aat/300388770",no:"http://vocab.getty.edu/aat/300388992",pl:"http://vocab.getty.edu/aat/300389109",ro:"http://vocab.getty.edu/aat/300389157",sk:"http://vocab.getty.edu/aat/300389290",sl:"http://vocab.getty.edu/aat/300389291",sr:"http://vocab.getty.edu/aat/300389247",sv:"http://vocab.getty.edu/aat/300389336",tr:"http://vocab.getty.edu/aat/300389470",cy:"http://vocab.getty.edu/aat/300389555"},ACCESSION_NUMBERS:"http://vocab.getty.edu/aat/300312355",ACKNOWLEDGEMENT:"http://vocab.getty.edu/aat/300026687",COPYRIGHT:"http://vocab.getty.edu/aat/300435434",CULTURE:"http://vocab.getty.edu/aat/300055768",DESCRIPTION:"http://vocab.getty.edu/aat/300080091",DIGITAL_IMAGES:"http://vocab.getty.edu/aat/300215302",DIMENSIONS_DESCRIPTION:"http://vocab.getty.edu/aat/300435430",LEGAL_CONCEPTS:"http://vocab.getty.edu/aat/300055547",MATERIALS_DESCRIPTION:"http://vocab.getty.edu/aat/300435429",PREFERRED_TERM:"http://vocab.getty.edu/aat/300404670",RIGHTS:"http://vocab.getty.edu/aat/300417696",WORK_TYPE:"http://vocab.getty.edu/aat/300435443",CLASSIFICATION:"http://vocab.getty.edu/aat/300435444"},r="classified_as";function i(t,e){if(null==t)return[];var a=t[e];return null==a?[]:0==Array.isArray(a)?[a]:a.length<1?[]:a}function u(t){var e=t.toLowerCase();return e.startsWith("aat:")?e.replace("aat:","http://vocab.getty.edu/aat/"):e.startsWith("https://vocab.getty.edu/aat/")?e.replace("https://vocab.getty.edu/aat/","http://vocab.getty.edu/aat/"):e.replace("http://vocab.getty.edu/aat/","aat:")}function g(e,a){var n=e[a];if(null==n)return[];var o=[];return 0==Array.isArray(n.part)?o=Array.isArray(n)?n:[n]:(o=t(n.part),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["id","_label","label","type"],a=Object.keys(t);return a.filter((function(t){return 0==e.indexOf(t)})),a.length>0}(n,["id","_label","label","type","part"])&&o.push(n)),o}function s(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null==e)return!0;var n=l(t,a);return!!n.includes(d(e,a))||(!(null==a.fallbackLanguage||!n.includes(d(a.fallbackLanguage,a)))||!(!n.includes("NO_LANGUAGE")&&0!=n.length)&&0!=a.includeItemsWithNoLanguage)}function l(t,e){if(null==t||null==t.language)return["NO_LANGUAGE"];if("string"==typeof t.language)return[d(t.language,e)];var a=new Set;return t.language.forEach((function(t){null==t?a.add("NO_LANGUAGE"):"string"==typeof t?a.add(t):t.id&&a.add(t.id)})),a=Array.from(a).map((function(t){return d(t,e)}))}function d(t,e){if(null==t)return"NO_LANGUAGE";var a=o.LANGUAGES;e&&e.lookupMap&&(a=e.lookupMap);var n=t.toLowerCase();n.match(/\/[a-zA-Z]+$/)&&(n=n.substring(n.lastIndexOf("/")+1));var r=a[n];return null!=r?r:t}function c(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.language,o=void 0===n?void 0:n,i=a.languageOptions,u=void 0===i?{}:i,g=a.operator;return f(t,e,{classificationField:r,language:o,languageOptions:u,operator:g})}function p(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.language,o=void 0===n?void 0:n,i=a.languageOptions,u=void 0===i?{}:i,g=a.operator;return E(t,e,r,{language:o,languageOptions:u,operator:g})}function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.requestedClassifications,n=void 0===a?o.PREFERRED_TERM:a,r=e.language,u=e.languageOptions,g=void 0===u?{}:u;if(null==t)return"Unknown";var s=i(t,"identified_by"),l=s.filter((function(t){return"Name"==t.type})),d=y(l,n,{language:r,languageOptions:g});if(d.length>0)return d;var c="Unknown";return t&&t.id&&(c+=" ("+t.id+")"),[c]}function f(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=a.classificationField,g=void 0===o?r:o,l=a.language,d=void 0===l?void 0:l,c=a.languageOptions,p=void 0===c?{}:c,v=a.operator,f=void 0===v?"AND":v,h=[],y=O(t),b=O(e);if(0==y.length||0==b.length)return h;var A,C=n(y);try{var E=function(){var t=A.value;_=i(t,g);var e=s(t,d,p);if(!_.length)return"continue";var a=_.map((function(t){return"string"==typeof t?t:t.id})),n=function(t){return e&&a.includes(t)||a.includes(u(t))};if("AND"==f.toUpperCase())b.every(n)&&h.push(t);else{if("OR"!=f.toUpperCase())throw"unknown operator specified: ".concat(f,", please use and/or");b.some(n)&&h.push(t)}};for(C.s();!(A=C.n()).done;){var _;E()}}catch(t){C.e(t)}finally{C.f()}return h}function h(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.language,o=a.languageOptions,r=a.operator,i=c(t,e,{language:n,languageOptions:o,operator:r});if(i.length){var u=b(i[0]);return u}}function y(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.language,o=a.languageOptions,r=a.operator,i=c(t,e,{language:n,languageOptions:o,operator:r});if(i.length){var u=[];return i.forEach((function(t){var e=b(t);e&&u.push(e)})),u}return[]}function b(t){if(null!=t)return void 0!==t.value?t.value:t.content?t.content:void 0}function O(t){var e=t;return null==t?[]:(0==Array.isArray(t)&&(e=[t]),e)}function A(t,e){var a=[];return t.forEach((function(t){t.assigned_property==e&&(Array.isArray(t.assigned)?a=a.concat(t.assigned):a.push(t.assigned))})),a}function C(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n.language,i=void 0===o?void 0:o,u=n.languageOptions,g=void 0===u?{}:u,s=n.operator,l=_(t,e,a,{language:i,languageOptions:g,operator:s}),d=l.objects;return d}function E(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n.language,i=void 0===o?void 0:o,u=n.languageOptions,g=void 0===u?{}:u,s=n.operator,l=_(t,e,a,{language:i,languageOptions:g,operator:s}),d=l.classifications;return d}function _(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,o=arguments.length>3?arguments[3]:void 0,u=o.language,g=void 0===u?void 0:u,s=o.languageOptions,l=void 0===s?{}:s,d=o.operator,c={classifications:[],objects:[]},p=O(t);if(0==p.length)return c;var v,h=n(p);try{for(h.s();!(v=h.n()).done;){var y=v.value,b=i(y,a);if(b.length){var A=f(b,e,{classificationField:a,language:g,languageOptions:l,operator:d});c.classifications=c.classifications.concat(A),A.length>0&&c.objects.push(y)}}}catch(t){h.e(t)}finally{h.f()}return c}function m(t,e,a){var n=g(t,e),o=[];return n.forEach((function(t){var e=i(t,a);o=o.concat(e)})),o}function I(t,e,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n.language,r=n.languageOptions,u=n.operator;return y(i(t,e),a,{language:o,languageOptions:r,operator:u})}exports.doesObjectLanguageMatch=s,exports.getAccessionNumbers=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.requestedClassifications,n=void 0===a?o.ACCESSION_NUMBERS:a,r=e.language,i=e.languageOptions,u=void 0===i?{}:i;return I(t,"identified_by",n,{language:r,languageOptions:u})},exports.getAcknowledgementStatements=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.requestedClassifications,n=void 0===a?o.ACKNOWLEDGEMENT:a,r=e.language,i=e.languageOptions,u=void 0===i?{}:i;return I(t,"referred_to_by",n,{language:r,languageOptions:u})},exports.getAssignedBy=function(t,e){var a=i(t,"assigned_by");return 0==a.length?[]:A(a,e)},exports.getAttributedBy=function(t,e){var a=i(t,"attributed_by");return 0==a.length?[]:A(a,e)},exports.getCarriedOutBy=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"produced_by";return m(t,e,"carried_out_by")},exports.getClassifications=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.requestedClassifications,n=void 0===a?o.CLASSIFICATION:a,r=e.language,i=e.languageOptions,u=void 0===i?{}:i,g=p(t,n,{language:r,languageOptions:u});return g},exports.getClassified=f,exports.getClassifiedAs=c,exports.getClassifiedAsWithClassification=p,exports.getClassifiedBy=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.language,o=void 0===n?void 0:n,r=a.languageOptions,i=void 0===r?{}:r,u=a.operator;return f(t,e,{classificationField:"classified_by",language:o,languageOptions:i,operator:u})},exports.getClassifiedByWithClassification=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.language,o=void 0===n?void 0:n,r=a.languageOptions,i=void 0===r?{}:r,u=a.operator;return E(t,e,"classified_by",{language:o,languageOptions:i,operator:u})},exports.getCopyrightStatements=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.requestedClassifications,n=void 0===a?o.COPYRIGHT:a,r=e.language,i=e.languageOptions,u=void 0===i?{}:i;return I(t,"referred_to_by",n,{language:r,languageOptions:u})},exports.getCultures=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.requestedClassifications,n=void 0===a?o.CULTURE:a,r=e.language,i=e.languageOptions,u=void 0===i?{}:i;return I(t,"referred_to_by",n,{language:r,languageOptions:u})},exports.getDigitalImages=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.requestedClassifications,n=void 0===a?o.DIGITAL_IMAGES:a,r=i(t,"representation"),u=c(r,n);return u.map((function(t){return t.id}))},exports.getDimensionsDescriptions=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.requestedClassifications,n=void 0===a?o.DIMENSIONS_DESCRIPTION:a,r=e.language,i=e.languageOptions,u=void 0===i?{}:i;return I(t,"referred_to_by",n,{language:r,languageOptions:u})},exports.getFieldPartSubfield=m,exports.getFieldValuesByClassifications=I,exports.getLanguageId=l,exports.getMaterialStatements=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.requestedClassifications,n=void 0===a?o.MATERIALS_DESCRIPTION:a,r=e.language,i=e.languageOptions,u=void 0===i?{}:i;return I(t,"referred_to_by",n,{language:r,languageOptions:u})},exports.getObjectParts=function(t,e){var a=t[e];if(!a)return[];var n=i(a,"part");return 0==n.length?[a]:n},exports.getObjectsClassifiedAsWithClassification=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.language,o=void 0===n?void 0:n,i=a.languageOptions,u=void 0===i?{}:i,g=a.operator;return C(t,e,r,{language:o,languageOptions:u,operator:g})},exports.getObjectsClassifiedByWithClassification=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.language,o=void 0===n?void 0:n,r=a.languageOptions,i=void 0===r?{}:r;return C(t,e,"classified_by",{language:o,languageOptions:i})},exports.getPrimaryName=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.requestedClassifications,n=void 0===a?o.PREFERRED_TERM:a,r=e.language,i=e.languageOptions,u=void 0===i?{}:i;return v(t,{requestedClassifications:n,language:r,languageOptions:u})[0]},exports.getPrimaryNames=v,exports.getProductionTimespans=function(t){return m(t,"produced_by","timespan")},exports.getReferredToByClassification=function(t,e){if(t){var a=t.referred_to_by;if(a)return h(a,e)}},exports.getRightsAssertions=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.language,e.languageOptions;var a=i(t,"subject_to"),n=[];return a.forEach((function(t){n=n.concat(t.classified_as)})),n.map((function(t){return t.id}))},exports.getRightsStatements=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.requestedClassifications,n=void 0===a?[o.LEGAL_CONCEPTS,o.RIGHTS]:a,u=e.language,g=e.languageOptions,s=void 0===g?{}:g,l=i(t,"referred_to_by"),d=f(l,n,{classificationField:r,language:u,languageOptions:s,operator:"OR"});return d.map((function(t){return b(t)}))},exports.getValueByClassification=h,exports.getValueOrContent=b,exports.getValuesByClassification=y,exports.getWorkTypes=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.requestedClassifications,n=void 0===a?o.WORK_TYPE:a,r=e.language,i=e.languageOptions,u=void 0===i?{}:i,g=p(t,n,{language:r,languageOptions:u});return g},exports.lookupAatFromIso=function(t){return o.LANGUAGES[t]},exports.lookupIsoFromAat=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=void 0,a=t;return(t.startsWith("aat:")||t.startsWith("https"))&&(a=u(t)),Object.keys(o.LANGUAGES).forEach((function(t){o.LANGUAGES[t]==a&&(e=t)})),e},exports.normalizeAatId=u,exports.normalizeFieldToArray=i,exports.normalizeFieldWithParts=g,exports.normalizeLanguageId=d;
